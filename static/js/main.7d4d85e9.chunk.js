(this["webpackJsonpxdk-app"]=this["webpackJsonpxdk-app"]||[]).push([[0],{218:function(e,t,a){e.exports=a(408)},223:function(e,t,a){},224:function(e,t,a){},408:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(12),l=a.n(i),c=(a(223),a(224),a(112)),o=a.n(c),s=a(168),m=a(18),p=a(19),u=a(21),d=a(20),h=a(84),v=a(452),f=a(446),E=a(448),g=a(455),b=a(454),y=a(456),x=a(449),O=a(457),k=a(450),j=a(451),w=a(181),D=a.n(w),C=a(182),L=a.n(C),S=a(183),A=a.n(S),N=a(453),M=a(86),_=a(8),I=a(447),H=a(412),K=a(410),T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={device:null},n}return Object(p.a)(a,[{key:"render",value:function(){return null===this.props.device?r.a.createElement("div",null,r.a.createElement("b",null,"Device: "),"None selected"):r.a.createElement("div",null,r.a.createElement("b",null,"Device: "),this.props.device)}}]),a}(n.Component),J=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,dataSource:null},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;if(null===this.props.data)return r.a.createElement("i",null,"Last reading:");var t=this.props.data.filter((function(t){return t.DeviceId===e.props.device}));return null===this.props.device?r.a.createElement("i",null,"Last reading:"):r.a.createElement("i",null,"Last reading:"," ",function(e){var t=new Date(1*e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],r=t.getDate(),i=t.getHours(),l=t.getMinutes(),c=t.getSeconds();return 1===r.toString().length&&(r="0"+r),1===i.toString().length&&(i="0"+i),1===l.toString().length&&(l="0"+l),1===c.toString().length&&(c="0"+c),r+" "+n+" "+a+" "+i+":"+l+":"+c}(t[t.length-1].TimeStamp))}}]),a}(n.Component),z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this;if(null===this.props.data)return r.a.createElement("div",null,"Loading...");if(null===this.props.device)return r.a.createElement("b",null,this.props.title,":");var t=this.props.data.filter((function(t){return t.DeviceId===e.props.device}));return r.a.createElement("div",null,r.a.createElement("b",null,this.props.title,": "),t[t.length-1].data[this.props.variable],this.props.units)}}]),a}(n.Component),B=a(13),F=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,dataSource:null},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;if(null===this.props.data)return r.a.createElement("div",null,"Loading...");var t=function(e){var t=new Date(1*e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+n+" "+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},a=this.props.data.filter((function(t){return t.DeviceId===e.props.device})).map((function(e){return{time:e.TimeStamp,accel_x:e.data.accel_x,accel_y:e.data.accel_y,accel_z:e.data.accel_z,accel_mag:e.data.accel_mag}})),n=a.filter((function(t){return t.time>e.props.timeLimit})),i=Object.keys(n).map((function(e){return{time:t(n[e].time),accel_x:n[e].accel_x,accel_y:a[e].accel_y,accel_z:a[e].accel_z,accel_mag:a[e].accel_mag}}));return r.a.createElement("div",{style:{paddingBottom:"56%",position:"relative"}},r.a.createElement("div",{style:{position:"absolute",width:"90%",height:"90%",maxHeight:"250px"}},r.a.createElement("h3",{style:{textAlign:"center"}},"Acceleration"),r.a.createElement(B.e,null,r.a.createElement(B.d,{data:i,margin:{top:5,right:5,left:5,bottom:0}},r.a.createElement(B.g,{dataKey:"time",xAxisId:0}),r.a.createElement(B.h,null),r.a.createElement(B.f,null),r.a.createElement(B.a,{stroke:"#f5f5f5"}),r.a.createElement(B.c,{type:"monotone",dataKey:"accel_x",stroke:"#ff9800",isAnimationActive:!1}),r.a.createElement(B.c,{type:"monotone",dataKey:"accel_y",stroke:"#2196f3",isAnimationActive:!1}),r.a.createElement(B.c,{type:"monotone",dataKey:"accel_z",stroke:"#4caf50",isAnimationActive:!1}),r.a.createElement(B.b,{width:100,wrapperStyle:{top:-50,right:-15,backgroundColor:"#f5f5f5",border:"1px solid #d5d5d5",borderRadius:3,lineHeight:"10px"}})))))}}]),a}(n.Component),G=a(444),W=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"timeConverter",value:function(e){var t=new Date(1*e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+n+" "+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}},{key:"render",value:function(){var e=this;if(null!==this.props.data){var t=this.props.data.filter((function(t){return t.DeviceId===e.props.device&&t.TimeStamp>e.props.timeLimit})),a=Object.keys(t).map((function(a){return{TimeStamp:e.timeConverter(t[a].TimeStamp),data:t[a].data}}));return r.a.createElement("div",{style:{paddingBottom:"56%",position:"relative"}},r.a.createElement("div",{style:{position:"absolute",width:"90%",height:"90%",maxHeight:"250px"}},r.a.createElement("h3",{style:{textAlign:"center"}},this.props.title),r.a.createElement(B.e,null,r.a.createElement(B.d,{data:a,margin:{top:5,right:5,left:5,bottom:50}},r.a.createElement(B.g,{dataKey:"TimeStamp"}),r.a.createElement(B.h,{dataKey:this.props.yKey}),r.a.createElement(B.f,null),r.a.createElement(B.a,{stroke:"#f5f5f5"}),r.a.createElement(B.c,{type:"monotone",dataKey:this.props.yKey,stroke:this.props.lineColor,yAxisId:0,isAnimationActive:!1})))))}}}]),a}(n.Component),P=Object(G.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),Y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).timeLimitDay=function(){var e=Date.now()-864e5;n.setState({timeLimit:e})},n.timeLimitWeek=function(){var e=Date.now()-6048e5;n.setState({timeLimit:e})},n.timeLimitMonth=function(){var e=Date.now()-2592e6;n.setState({timeLimit:e})},n.state={timeLimit:Date.now()-864e5,device:null},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:P.root},r.a.createElement(f.a,{style:{marginInlineEnd:"10px",backgroundColor:"White"},variant:"outlined",size:"small",onClick:this.timeLimitDay},"1 day"),r.a.createElement(f.a,{style:{marginInlineEnd:"10px",backgroundColor:"White"},variant:"outlined",size:"small",onClick:this.timeLimitWeek},"1 week"),r.a.createElement(f.a,{style:{marginInlineEnd:"10px",backgroundColor:"White"},variant:"outlined",size:"small",onClick:this.timeLimitMonth},"1 month"),r.a.createElement("p",null),r.a.createElement(I.a,{container:!0,spacing:4},r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(H.a,{className:P.paper,style:{maxHeight:"270px"}},r.a.createElement(W,{title:"Temperature",yKey:"data.temp",lineColor:"#ff9800",data:this.props.data,timeLimit:this.state.timeLimit,device:this.props.device}))),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(H.a,{className:P.paper,style:{maxHeight:"270px"}},r.a.createElement(W,{title:"Humidity",yKey:"data.humidity",lineColor:"#2196f3",data:this.props.data,timeLimit:this.state.timeLimit,device:this.props.device}))),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(H.a,{className:P.paper,style:{maxHeight:"270px"}},r.a.createElement(F,{title:"Acceleration",yKey:"temp",data:this.props.data,timeLimit:this.state.timeLimit,device:this.props.device}))),r.a.createElement(I.a,{item:!0,xs:12,md:6},r.a.createElement(H.a,{className:P.paper,style:{maxHeight:"270px"}},r.a.createElement(W,{title:"Battery",yKey:"data.battery",lineColor:"#4caf50",data:this.props.data,timeLimit:this.state.timeLimit,device:this.props.device})))))}}]),a}(n.Component),R=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={device:null},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("h2",{style:{marginBottom:"10px"}},"Recent"),r.a.createElement(J,{data:this.props.data,device:this.props.device}),r.a.createElement("p",null),r.a.createElement(I.a,{container:!0,spacing:4},r.a.createElement(I.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(H.a,{className:e.paper},r.a.createElement(T,{device:this.props.device}))),r.a.createElement(I.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(H.a,{className:e.paper},r.a.createElement(z,{title:"Temperature",variable:"temp",units:"\xb0C",data:this.props.data,device:this.props.device}))),r.a.createElement(I.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(H.a,{className:e.paper},r.a.createElement(z,{title:"Humidity",variable:"humidity",units:"%",data:this.props.data,device:this.props.device}))),r.a.createElement(I.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(H.a,{className:e.paper},r.a.createElement(z,{title:"Battery",variable:"battery",data:this.props.data,device:this.props.device})))),r.a.createElement("h2",{style:{marginBottom:"10px"}},"Charts"),r.a.createElement(Y,{data:this.props.data,device:this.props.device}))}}]),a}(n.Component),U=Object(K.a)((function(e){return{root:{flexGrow:1},paper:{padding:10,textAlign:"center"}}}))(R),X=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={mobileOpen:!1,data:null,device:null,ids:null},e.handleDrawerToggle=function(){e.setState((function(e){return{mobileOpen:!e.mobileOpen}}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,a,n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://hx63ml0hmc.execute-api.us-west-1.amazonaws.com/dev");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.body.Items,r=n.map((function(e){return e.DeviceId})),i=Array.from(new Set(r)),this.setState({data:n,ids:i},(function(){})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.theme;if(null==this.state.data)return r.a.createElement("div",null,"loading...");var i=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(E.a,null),r.a.createElement("h3",{style:{paddingLeft:"20px",marginBottom:"0px"}},"Devices"),r.a.createElement(x.a,null,this.state.ids.map((function(t){return r.a.createElement(O.a,{button:!0,onClick:function(){return e.setState({mobileOpen:!1,device:t})},key:t},r.a.createElement(k.a,null,r.a.createElement(D.a,null)),r.a.createElement(j.a,{classes:{primary:a.listItemText},primary:t}))}))));return r.a.createElement("div",{className:a.root},r.a.createElement(v.a,{position:"fixed",className:a.appBar},r.a.createElement(N.a,null,r.a.createElement(b.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:a.navIconHide},r.a.createElement(L.a,null)),r.a.createElement(M.a,{variant:"h6",color:"inherit",noWrap:!0,className:a.title},"XDK Dashboard"),r.a.createElement(f.a,{color:"inherit",variant:"outlined",onClick:function(){e.componentDidMount()}},r.a.createElement(A.a,null)))),r.a.createElement(y.a,{smUp:!0},r.a.createElement(g.a,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},i)),r.a.createElement(y.a,{xsDown:!0,implementation:"css"},r.a.createElement(g.a,{variant:"permanent",open:!0,classes:{paper:a.drawerPaper}},i)),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),r.a.createElement(U,{data:this.state.data,device:this.state.device})))}}]),a}(r.a.Component),q=Object(_.a)((function(e){return{root:{flexGrow:1,zIndex:1,overflow:"hidden",position:"relative",display:"flex",width:"100%"},appBar:Object(h.a)({position:"absolute",marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),navIconHide:Object(h.a)({},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerContainer:{overflow:"auto"},drawerPaper:Object(h.a)({width:240},e.breakpoints.up("sm"),{position:"relative"}),content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},title:{flexGrow:1}}}),{withTheme:!0})(X),Q=Object(G.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));var V=function(){var e=Q();return r.a.createElement("div",{className:e.root},r.a.createElement(q,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root"))}},[[218,1,2]]]);
//# sourceMappingURL=main.7d4d85e9.chunk.js.map